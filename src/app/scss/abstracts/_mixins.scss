/**
 * @file _mixins.scss - Mixins
 *
 * This file is dedicated to managing all the mixins for this
 * project, ensuring reusable and consistent styling.
 *
 * node.js-v20.17.0
 *
 * @author Cristian Moreno (Kyonax)
 * @contact iamkyo@kyo.wtf
 * @date 2025-01-24
 *
 * Code Guidelines :: @CCSv0.1
 * More details: https://code-guidelines.cybercodesyndicate.org
 * - Tabs onlyâ€”no spaces.
 * - Naming:
 *   - kebab-case for classes and file names (e.g., file-example.js).
 *   - __underscore for childs (double underscore prefix).
 * - Meaningful Names btn-default-class over classOne.
 *
 * Repository-URL
 * https://github.com/Kyonax/kyo-web-online
 *
 * @dependencies
 * - Using "sass:map";
 * - Using * from "variables"
 *
 * @usage
 * Import this file into any SASS where mixins are needed,
 * like typography or global stylesheets, to leverage
 * reusable code and keep styles uniform.
 */
@use "sass:map";
@use "variables" as *;

/**
 * Font Face Mixin
 *
 * Creates a custom @font-face rule to use your own fonts.
 * It's quick and to the point.
 *
 * @params
 * $name - The font name.
 * $path - Where the font file lives.
 * $weight - Font weight (default: normal).
 * $style - Font style (default: normal).
 */
@mixin font-face($name, $path, $weight: normal, $style: normal) {
  @font-face {
    font-family: "#{$name}";
    src: url("~@app/fonts/#{$path}.ttf") format("truetype");
    font-weight: #{$weight};
    font-style: #{$style};
  }
}

/**
 * Min Media Query Mixin
 *
 * Sets up a media query for when the screen is at least a
 * certain size. Perfect for scaling up.
 *
 * @params
 * $key - The size key from your $breakpoints map.
 */
@mixin min-media-query($key) {
  $size: map.get($breakpoints, $key);

  @media only screen and (min-width: $size) {
    @content;
  }
}

/**
 * Max Media Query Mixin
 *
 * Sets up a media query for when the screen is at most a
 * certain size. Handy for scaling down.
 *
 * @params
 * $key - The size key from your $breakpoints map.
 */
@mixin max-media-query($key) {
  $size: map.get($breakpoints, $key);

  @media only screen and (max-width: $size) {
    @content;
  }
}

/**
 * Cyberpunk Glow Mixin
 *
 * Gives your block elements a glowing, futuristic look.
 * Optionally adds a cool pulsing animation.
 *
 * @params
 * $glow-color - The glow color (default: #ffffff).
 * $blur - How blurry the glow is (default: 15px).
 * $spread - How wide the glow spreads (default: 5px).
 * $animated - Adds a pulsing effect if true (default: true).
 */
@mixin cyberpunk-glow(
  $glow-color: #ffffff,
  $blur: 15px,
  $spread: 5px,
  $animated: true
) {
  box-shadow: 0 0 $spread $blur $glow-color;
  @if $animated {
    animation: cyberpunk-pulse-#{$blur}-#{$spread} 1.5s infinite alternate;

    @keyframes cyberpunk-pulse-#{$blur}-#{$spread} {
      0% {
        box-shadow: 0 0 calc(#{$spread} / 2) calc(#{$blur} / 2)
          rgba($glow-color, 0.8) !important;
      }
      100% {
        box-shadow: 0 0 #{$spread} #{$blur} rgba($glow-color, 0.5) !important;
      }
    }
  }
}

/**
 * Border Flare Mixin
 *
 * Adds a glowing border that breathes in and out.
 * Perfect for grabbing attention.
 *
 * @params
 * $color - The border color (default: #ff00ff).
 * $duration - How long the breathing animation takes (default: 3s).
 * $spread - How far the border glow spreads (default: 10px).
 * $pause-duration - The time for the fade-in/fade-out effect (default: 2s).
 * $base-opacity - The base opacity of the border glow (default: 0.5).
 */
@mixin border-flare(
  $color: #ff00ff,
  $duration: 3s,
  $spread: 10px,
  $pause-duration: 2s,
  $base-opacity: 0.5
) {
  position: relative;

  &:before {
    content: "";
    position: absolute;
    top: calc(-#{$spread} / 2);
    left: calc(-#{$spread} / 2);
    right: calc(-#{$spread} / 2);
    bottom: calc(-#{$spread} / 2);
    border: 2px solid transparent;
    border-radius: inherit; // Matches the parent element's border-radius
    background: linear-gradient(90deg, transparent, $color, transparent);
    background-size: 200% 200%;
    filter: blur(4px); // Adds the glow effect
    opacity: $base-opacity;
    z-index: -1;
    animation:
      flare-breathe $duration linear infinite,
      flare-opacity $pause-duration ease-in-out infinite;
  }

  // Main animation for the flare movement
  @keyframes flare-breathe {
    0% {
      background-position: 100% 0;
    }
    25% {
      background-position: 0 100%;
    }
    50% {
      background-position: 100% 100%;
    }
    75% {
      background-position: 0 0;
    }
    100% {
      background-position: 100% 0;
    }
  }

  // Opacity animation for the breathing effect
  @keyframes flare-opacity {
    0% {
      opacity: 0; // Starts with no glow
    }
    50% {
      opacity: $base-opacity; // Full glow
    }
    100% {
      opacity: 0; // Fades back out
    }
  }
}
